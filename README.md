# 外卖计费系统

## 考试目标

1. 考察使用tasking方式整理思路的能力
2. 考察TDD能力
3. 考察html/css/javascript的掌握程度

## 需求描述

某快餐品牌推出了它独家的外卖应用，用户可以在手机上直接下单。该应用会根据用户选择的菜品(Item)、数量(Count)和优惠方式(Promotion)进行计算，告诉用户需要支付的金额(Charge)。

优惠活动有多种形式。假设用户一次只能使用一种优惠，那么使用哪种优惠省钱最多就会是一个让用户头疼的问题。所以该外卖应用为了方便用户，在用户下单时，会自动选择最优惠的方式并计算出最终金额让用户确认。

我们需要实现一个名为`bestCharge`的函数，它能够接收用户选择的菜品和数量（以特定格式呈现）作为输入，然后返回计算后的汇总信息。

已知：

- 该店的菜品每一个都有一个唯一的id
- 当前的优惠方式有:
  - 下单直接减2元
  - 满30减6元
  - 直接9折优惠
  - 指定菜品半价
- 除菜品外没有其它收费（如送餐费、餐盒费等）
- 如果两种优惠方式省钱一样多，则使用第一种优惠方式

输入样例
-------

```
["ITEM0001 x 1", "ITEM0013 x 2", "ITEM0022 x 1"]
```

输出样例
-------

```
============= 订餐明细 =============
黄焖鸡 x 1 = 18元
肉夹馍 x 2 = 12元
凉皮 x 1 = 8元
-----------------------------------
使用优惠:
指定菜品半价(黄焖鸡，凉皮)，省13元
-----------------------------------
总计：25元
===================================
```

## 基础作业

1. 实现前面的`bestCharge`函数
1. 写代码前先使用tasking整理思路并画出管道图
2. 先写测试再写实现
3. 代码整洁、函数粒度合适、命名有意义

## 扩展作业

1. 使用html实现用户选菜并显示计算后的汇总信息
2. 使用某种方式让用户选择菜品，并可输入数量
3. 用户点击“结算”按钮时，会在页面上显示前面的汇总信息
4. 用户点击“清除”按钮时，会清除所有选择以及汇总信息
5. 通过使用合适的html标签和css，让页面美观好用
6. 对输入的数量进行检查，如果不是正整数，则提示“数量错误，请输入一个正整数”

## 作业提示

1. 可使用```loadAllItems()```方法获取全部的菜品，该方法返回结果为一个包含了菜品对象的数组（样例）：

   ```
   [ item1, item2, item3, ..., itemN ]
   ```

2. 每一个菜品对象的结构如下（样例）：

   ```javascript
   {
      id: 'ITEM0001',
      name: '黄焖鸡',
      price: 18.00
   }
   ```

   ```javascript
   {
      id: 'ITEM0013',
      name: '肉夹馍',
      price: 6.00
   }
   ```

   ```javascript
   {
      id: 'ITEM0022',
      name: '凉皮',
      price: 8.00
   }
   ```

   ```javascript
   {
      id: 'ITEM0030',
      name: '冰锋',
      price: 2.00
   }
   ```

3. 可使用```loadPromotions()```方法获取全部的优惠方式，该方法返回结果为一个包含有优惠方式对象的数组（样例）：


   ```javascript
   [
      {
        type: '下单直接减2元'
      },
      {
        type: '满30减6元'
      },
      {
        type: '直接9折优惠'
      },
      {
        type: '指定菜品半价',
        items: ['ITEM0001', 'ITEM0022']
      }
   ]
   ```

4. 应学习并善于使用各种流行浏览器所附带的开发人员工具中的控制台（Console）功能。